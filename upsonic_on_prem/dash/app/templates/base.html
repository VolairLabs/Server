<!DOCTYPE html>
{% load static %}
{% load pwa %}

{% load tags %}


<div id="this_url" style="display: none;">https://{{request.get_host}}:7341{{request.get_full_path_info}}</div>


<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{page_title}} - Upsonic</title>
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.png">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <link href='/static/css/gabarito.css' rel='stylesheet' type='text/css'>
    <link href='/static/css/poppins.css' rel='stylesheet' type='text/css'>
    <link href='/static/css/site.css' rel='stylesheet' type='text/css'>
    <link href='/static/css/dark_mode.css' rel='stylesheet' type='text/css'>
    <link href="/static/css/bootstrap-icons.css" rel="stylesheet">

    {% include 'in_page_load.js.html' %}

    {% sentry as sentry %}
    {% sentry_dsn as sentry_dsn %}
    {% if sentry %}

    <!-- Recommended: Use this bundle for feedback, replay, error, and performance monitoring -->
    <script
      src="https://browser.sentry-cdn.com/7.102.1/bundle.tracing.replay.feedback.min.js"
      integrity="sha384-26uTXIBpd3urK4WDZ68YL44GKxnla0zmZ8qlduExjd57i0bUcMZPL11G6tnCAEiH"
      crossorigin="anonymous"
    ></script>
    <script>
        Sentry.setUser({
          fullName: "{{request.user.username}}",
        });
        Sentry.init({
          dsn: "{{sentry_dsn}}",

          integrations: [
            Sentry.feedbackIntegration({
              // Additional SDK configuration goes in here, for example:
              colorScheme: "dark",
              useSentryUser: {
                email: "email",
                name: "fullName",
              },
            }),
            Sentry.replayIntegration(),
          ],
          replaysSessionSampleRate: 0.1, // This sets the sample rate at 10%. You may want to change it to 100% while in development and then sample at a lower rate in production.
          replaysOnErrorSampleRate: 1.0, // If you're not already sampling the entire session, change the sample rate to 100% when sampling sessions where errors occur.
        });


    </script>

    {% endif %}

    {% progressive_web_app_meta %}
</head>
<body class="custom_body">

{% include 'header.html' %}

<main class="d-flex flex-nowrap" id="the_content">

    {% include 'sidebar.html' %}

      {% if page_title == 'Search' %}
      <script>
      document.getElementById("header_search_div").style.display = "none";
      </script>
      {% else %}
      <script>
      document.getElementById("header_search_div").style.display = "block";
      </script>      
      {% endif %}

    {% block content %}{% endblock content %}

</main>

<iframe style="display: none;" name="transFrame" id="transFrame"></iframe>


{% include 'notifications.js.html' %}
<script src="/static/js/bootstrap.bundle.min.js"></script>
<script src="/static/js/popper.min.js"></script>
<script src="/static/js/site.js" id="script_tag"></script>

</body>
</html>