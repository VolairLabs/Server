{% extends "base.html" %}

{% load tags %}

{% block content %}
<div class="d-flex cloud_left_section">
{% include 'cloud_side_bar.html' %}

</div>
<div class="w-100 custom_right_side">

    <div class="d-flex flex-column">

        <div class="custom_page_header_bottom_margin">

            <div class="d-flex flex-row justify-content-between align-items-center">

                <div class="flex-fill w-50 me-5">
                    {% if have_upper %}
                    <a href="#" class="back_a" onclick="page_load('{% url 'control_library' id=the_upper %}');event.preventDefault();">< </a>
                    {% endif %}
                    <span class="custom_page_header_text_bold">{{control_library}} {{version}}</span></span></span>                
                </div>
                <div class="flex-fill w-50 me-5">
                    <div class="row">


                        <a href="#" onclick="page_load('{% url 'control_library' id=control_library_with_version %}');event.preventDefault();" class="" style="width: auto; text-decoration: none; margin-left: auto;"><span class="header_text_active">Home </span><img  src="/static/images/icons/action_home.svg" style="height: 20px;margin-right: 10px;"/></a>
                        
                        {%if not sub_module%}
                        <a href="#" onclick="page_load('{% url 'control_library_version' id=control_library_with_version %}');event.preventDefault();" class="" style="width: auto; text-decoration: none;"><span class="header_text_not_active">Version </span><img  src="/static/images/icons/action_version.svg" style="height: 20px;margin-right: 10px;"/></a>
                        {%endif%}
                        <a href="#" onclick="page_load('{% url 'control_library_settings' id=control_library_with_version %}');event.preventDefault();" class="" style="width: auto; text-decoration: none;"><span class="header_text_not_active">Settings </span><img  src="/static/images/icons/action_settings.svg" style="height: 20px;margin-right: 10px;"/></a>


                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex flex-column scrollabe_righ_side">

    {% if version == "" and github_active %}
    <div class="mb-1">
        <a href="{{github_url}}" target="_blank" style="text-decoration: none;">
        <img src="/static/images/github.png" style="height: 15px;"/>
        {% if github_synced %}
        <span>Synced</span>
        {% else %}
        <span >Not Synced</span>
        {% endif %}
    </a>
    </div>

    {% endif %}


<table class="table table-hover align-middle library_table">
    <thead>
      <tr style="
      border-bottom-color: #01EE8D;
  ">

        <th scope="col">Name</th>
          <th scope="col" style="
          text-align: end;
          padding: 1rem 1rem;
          padding-right: 115px;
      ">Action</th>

      </tr>
    </thead>
    <tbody>
        {% for key,value in content.items%}
        <tr>

            {% if value == False %}
            <td><a href="#" onclick="page_load('{% url 'control_element' id=key %}');event.preventDefault();" class="library_item_a"><img class="library_item me-1 ms-1" src="/static/images/object_fill_dark.svg" style="height: 13px;"/>{{key}}</a></td>
            
            {% else %}
            <td><a href="#" onclick="page_load('{% url 'control_library' id=key %}');event.preventDefault();" class="library_item_a"><img class="library_item me-1 ms-1" src="/static/images/library_fill_dark.svg" style="height: 13px;"/>
                {{key}}</a></td>
            
            {% endif %}
            <td style="text-align: end;padding: 1rem 1rem;padding-right: 55px;">
                {% if value == False %}
                <a href="#" onclick="page_load('{% url 'control_element' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_home.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_element_version' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_version.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_element_commits' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_commit.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_element_runs' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_run.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_element_settings' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_settings.svg" style="height: 20px;margin-right: 10px;"/></a>
                {% else %}
                <a href="#" onclick="page_load('{% url 'control_library' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_home.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_library_version' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_version.svg" style="height: 20px;margin-right: 10px;"/></a>
                <a href="#" onclick="page_load('{% url 'control_library_settings' id=key %}');event.preventDefault();" class="" style="width: auto;"><img  src="/static/images/icons/action_settings.svg" style="height: 20px;margin-right: 10px;"/></a>

                {% endif %}
            </td>

          </tr>

        {% endfor %}


    </tbody>
  </table>

    <div>
        <div class="custom_page_header_top_bottom_margin">
            <span class="custom_page_header_text">Readme</span>
        </div>


        <div class="custom_code_block">
            <div class="custom_code_block_code">
                <div class="highlight">
                    <pre class="chroma" style="text-wrap: wrap;">
                        <code class="language-html" data-lang="html">
<b class="custom_code_highlight_green">Importing:</b>
{{code}}

{{readme|safe}}

<b class="custom_code_highlight_green">Content:</b>
{% for key,value in all_scopes%}
<b>{{key}}</b>: {{value|safe}}<br>
{% endfor %}

                        </code>
                    </pre>
                </div>
            </div>
        </div>

    </div>

    


</div>

</div>



{% endblock content %}